[gd_scene load_steps=14 format=3 uid="uid://cgkt4qfl6bw33"]

[ext_resource type="Script" uid="uid://j6c3f2y4x1st" path="res://Assets/Scripts/room_class.gd" id="1_538wp"]
[ext_resource type="PackedScene" uid="uid://bwsceyulre4ip" path="res://Assets/Scenes/Camera.tscn" id="1_thmbb"]
[ext_resource type="Texture2D" uid="uid://ysw0qw1v287l" path="res://Assets/Sprites/KantroPrologue/castle inside-1.png (1).png" id="3_538wp"]
[ext_resource type="PackedScene" uid="uid://k08olu47p0kv" path="res://Assets/InventorySystem/door.tscn" id="3_yk6cb"]
[ext_resource type="SpriteFrames" uid="uid://bxgv85qkovmgr" path="res://Assets/tress/AnimatedSprite/fire.tres" id="4_qqvun"]
[ext_resource type="Texture2D" uid="uid://c7dd5yetni0yt" path="res://Assets/Sprites/KantroPrologue/royal spear guard .png" id="5_mnbxi"]
[ext_resource type="PackedScene" uid="uid://cmmxk5mu5sy3o" path="res://Assets/InventorySystem/intract_reciever.tscn" id="6_6xidt"]
[ext_resource type="Texture2D" uid="uid://bn8f1rh81pjy5" path="res://Assets/Sprites/KantroPrologue/front guard.png" id="7_bc613"]
[ext_resource type="AudioStream" uid="uid://covi4mt77skgr" path="res://Assets/Music/castle theme.mp3" id="9_4cjq6"]
[ext_resource type="PackedScene" uid="uid://dxpb8siqjga5l" path="res://Assets/Scenes/player.tscn" id="10_538wp"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_5qx5y"]
size = Vector2(94.75, 20)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_co7iu"]
size = Vector2(33, 19.5)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_fym72"]
size = Vector2(27, 16)

[node name="C_hall" type="Node2D"]
y_sort_enabled = true
scale = Vector2(4, 4)
script = ExtResource("1_538wp")
metadata/_custom_type_script = "uid://j6c3f2y4x1st"

[node name="Camera" parent="." instance=ExtResource("1_thmbb")]
position = Vector2(100.5, 278.25)

[node name="BottomRight" parent="Camera/Node" index="1"]
position = Vector2(1080, 1400)

[node name="BG" type="Sprite2D" parent="."]
z_index = -1
texture_filter = 1
texture = ExtResource("3_538wp")
centered = false

[node name="Walls" type="StaticBody2D" parent="."]

[node name="CollisionPolygon2D" type="CollisionPolygon2D" parent="Walls"]
polygon = PackedVector2Array(0, 0, 0, 320, 200, 320, 200, 0, 1, 0, 1, -1, 201, -1, 201, 321, -1, 321, -1, 0)

[node name="CollisionPolygon2D2" type="CollisionPolygon2D" parent="Walls"]
polygon = PackedVector2Array(52.25, 75.75, 0, 76, 0, 0, 200, 0, 200, 68, 148, 68, 148, 14, 52, 14.25)

[node name="DOOR" parent="." node_paths=PackedStringArray("targetMusicPlayer") instance=ExtResource("3_yk6cb")]
target_scene = "res://Assets/Rooms/KantroPrologue/c_throneroom.tscn"
resumeMusic = true
targetMusicPlayer = NodePath("../AudioStreamPlayer")

[node name="CollisionShape2D" parent="DOOR" index="0"]
position = Vector2(99.5, 27.25)
shape = SubResource("RectangleShape2D_5qx5y")

[node name="AnimatedSprite2D" type="AnimatedSprite2D" parent="."]
texture_filter = 1
position = Vector2(173.75, 33)
sprite_frames = ExtResource("4_qqvun")
animation = &"new_animation"
autoplay = "new_animation"
frame = 6
frame_progress = 0.505831

[node name="CastleGuard" type="StaticBody2D" parent="."]
position = Vector2(15.25, 203.25)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CastleGuard"]
position = Vector2(4, 9)
shape = SubResource("RectangleShape2D_co7iu")

[node name="Sprite2D" type="Sprite2D" parent="CastleGuard"]
texture_filter = 1
texture = ExtResource("5_mnbxi")
offset = Vector2(0, -10)
hframes = 4
vframes = 4
frame = 14

[node name="IntractReciever" parent="CastleGuard" instance=ExtResource("6_6xidt")]
IntractDia = "res://Assets/Strings/castleGuardNormal.json"
triggerDialogue = true

[node name="CollisionShape2D" parent="CastleGuard/IntractReciever" index="0"]
position = Vector2(3.5, 8.5)

[node name="CastleGuard2" type="StaticBody2D" parent="."]
position = Vector2(176.75, 203.25)

[node name="CollisionShape2D" type="CollisionShape2D" parent="CastleGuard2"]
position = Vector2(4, 9)
shape = SubResource("RectangleShape2D_co7iu")

[node name="Sprite2D" type="Sprite2D" parent="CastleGuard2"]
texture_filter = 1
position = Vector2(7, 0)
texture = ExtResource("5_mnbxi")
offset = Vector2(0, -10)
flip_h = true
hframes = 4
vframes = 4
frame = 14

[node name="IntractReciever" parent="CastleGuard2" instance=ExtResource("6_6xidt")]
IntractDia = "res://Assets/Strings/castleGuardNormal.json"
triggerDialogue = true

[node name="CollisionShape2D" parent="CastleGuard2/IntractReciever" index="0"]
position = Vector2(3.5, 8.5)

[node name="frontFacingGuard" type="StaticBody2D" parent="."]
position = Vector2(25.75, 70.5)

[node name="CollisionShape2D" type="CollisionShape2D" parent="frontFacingGuard"]
position = Vector2(0, 6.5)
shape = SubResource("RectangleShape2D_fym72")

[node name="Sprite2D" type="Sprite2D" parent="frontFacingGuard"]
texture_filter = 1
texture = ExtResource("7_bc613")
offset = Vector2(0, -16)

[node name="IntractReciever" parent="frontFacingGuard" instance=ExtResource("6_6xidt")]
IntractDia = "res://Assets/Strings/castleGuardNormal.json"
triggerDialogue = true

[node name="CollisionShape2D" parent="frontFacingGuard/IntractReciever" index="0"]
position = Vector2(0, 7.75)

[node name="AudioStreamPlayer" type="AudioStreamPlayer" parent="."]
stream = ExtResource("9_4cjq6")
volume_db = -10.0
autoplay = true
parameters/looping = true

[node name="IntractReciever" parent="." instance=ExtResource("6_6xidt")]
position = Vector2(173.5, 53.5)
IntractDia = "res://Assets/Strings/torch.json"
triggerDialogue = true

[node name="player" parent="." instance=ExtResource("10_538wp")]
position = Vector2(100.5, 278.25)
character = 0

[node name="AnimatedSprite2D" parent="player" index="0"]
animation = &""
frame = 0
frame_progress = 0.0

[node name="CameraTransform" parent="player" index="2"]
remote_path = NodePath("../../Camera")

[editable path="Camera"]
[editable path="DOOR"]
[editable path="CastleGuard/IntractReciever"]
[editable path="CastleGuard2/IntractReciever"]
[editable path="frontFacingGuard/IntractReciever"]
[editable path="IntractReciever"]
[editable path="player"]
